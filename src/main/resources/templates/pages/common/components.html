<!doctype html>
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
</head>

<body>
  <main>
  <div th:fragment="header(contentsTitle)">
    <header style="margin-top: 3px; margin-bottom: 3px; border-left: 3px solid #7386D5;">
      <nav class="navbar navbar-default">
        <div class="navbar-header">
          <span class="pageTitle" th:text="${contentsTitle}"></span>
        </div>
      </nav>
    </header>
  </div>

  <div th:fragment="contentsHeader"></div>
  <!--/* ダイアログメッセージ */-->
  <div th:fragment="dialogMessages">
    <dialogMessages>
      <input type="hidden" id="appCompleteMessageSuccess" th:value='${appCompleteMessageSuccess}' />
      <input type="hidden" id="appCompleteMessageWarning"th:value='${appCompleteMessageWarning}' />
      <input type="hidden" id="appCompleteMessageFailure" th:value='${appCompleteMessageFailure}' />
    </dialogMessages>
  </div>
  <!--/* サイドメニュー */-->
  <div th:fragment="sideMenu">
      <script th:src="@{/js/component/menu.js}"></script>
      <div class="wrapper hidden" id="sideMenu" style="display:none;">
        <!-- Sidebar Holder -->
        <nav id="sidebar" class="bg-dark">
          <div class="sidebar-header bg-dark" style="border-bottom: solid 1px grey; padding-right: 10px;">
            <a class="text-decoration-none text-light" th:href="@{/home}">
              <img th:src="@{/images/logo.png}" alt="logo" class="rounded-circle" width="42em" height="32em" style="opacity: .6" />
              <span id="title" class="ml-1 headline" title="稼働状況管理"></span>
            </a>
          </div>
          <div class="text-right" style="padding: 3px;">
            <button type="button" id="sidebarCollapse" class="btn btn-dark navbar-btn" style="line-height: 1;">
              <i class="fas fa-bars"></i>
            </button>
          </div>
          <ul class="list-unstyled components"
            th:with="uri             = ${#httpServletRequest.requestURI}
                     , isMente       = ${#strings.contains(uri, '__@{/maintenance}__')}
                     , selected      = 'selected'
                     , home          = @{/home}
                     , assignments   = @{/assignments}
                     , contracts     = @{/contracts}
                     , projects      = @{/maintenance/projects}
                     , bill_addresses = @{/maintenance/bill_addresses}
                     , clients        = @{/maintenance/clients}
                     , staffs        = @{/maintenance/staffs}
                     , users         = @{/maintenance/users}
                     ">
            <li th:class="${#strings.contains(uri, home) ? selected : '' }">
              <a th:href="${home}" id="homeMenu">
                <i class="fas fa-fw fa-home"></i>Home
              </a>
            </li>
            <li>
              <a href="#" id="mainMenu" data-toggle="collapse" aria-expanded="false">
                <i class="fas fa-fw fa-briefcase"></i>メイン
              </a>
              <ul class="list-unstyled" id="mainSubMenu">
                <li th:class="${#strings.contains(uri, assignments) ? selected : '' }">
                  <a th:href="${assignments}">
                    <i class="fas fa-fw fa-user-tie"></i> 稼働状況確認
                  </a>
                </li>
                <li th:class="${#strings.contains(uri, contracts) ? selected : '' }">
                  <a th:href="${contracts}">
                    <i class="fas fa-fw fa-file-contract"></i> 契約情報
                  </a>
                </li>
              </ul>
            </li>
            <!-- /* マスターメンテナンスメニュー */ -->
            <li id="menteMenuList" >
              <a href="#" id="menteMenu" data-toggle="collapse" aria-expanded="false">
                <i class="fas fa-fw fa-wrench"></i>マスターメンテ
              </a>
              <ul class="list-unstyled" id="menteSubMenu">
                <li th:class="${#strings.contains(uri, projects) ? selected : '' }">
                  <a th:href="${projects}">
                    <i class="fas fa-fw fa-list-alt"></i> 案件管理
                  </a>
                </li>
                <li th:class="${#strings.contains(uri, bill_addresses) ? selected : '' }">
                  <a th:href="${bill_addresses}">
                    <i class="far fa-fw fa-file"></i> 請求先管理
                  </a>
                </li>
                <li th:class="${#strings.contains(uri, clients) ? selected : '' }">
                  <a th:href="${clients}">
                    <i class="fas fa-fw fa-building"></i> 取引先管理
                  </a>
                </li>
                <li th:class="${#strings.contains(uri, staffs) ? selected : ''}">
                  <a th:href="${staffs}">
                    <i class="fas fa-fw fa-address-card"></i> スタッフ管理
                  </a>
                </li>
                <li th:if="${sessionUserRole=='ADMIN'}" 
                    th:class="${#strings.contains(uri, users) ? selected : ''}">
                  <a th:href="${users + '/search?roleName=ALL&nonIsInvalid=on'}">
                    <i class="fas fa-fw fa-list-alt"></i> ユーザ管理
                  </a>
                </li>
              </ul>
            </li>

          </ul>
          <ul class="list-unstyled ctas">
            <li>
              <a class="article text-center font-weight-bold" href="javascript:App.logout();">
                <i class="fas fa-sign-out-alt"></i>ログアウト
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </main>
</body>
</html>
